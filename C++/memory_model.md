C++内存模型：

1. 对于虚函数部分：

> 虚函数表的指针始终存放在对象的内存空间的头部；
>
> 除了虚函数之外，内存空间会按照类的继承顺序(父类到子类)布局成员变量；
>
> 多继承时，每个包含虚函数的父类都会有自己的虚函数表项（作为子类vtable的部分），且子类和第一个父类共用一个表项。 指向这些表项的指针和成员变量按照继承顺序排布（父类1表指针+父类1变量 || 父类2表指针 + 父类2变量）最后再加上子类变量；如果子类重写父类虚函数，该函数的指针会加到第一个虚函数表。同时对应父类的虚函数表中这一项改为non-virtual_thunk的跳转项；
>
> 虚继承时，则内存空间排列顺序为：各个父类(包含虚表指针)+子类成员+公共基类(最上方的父类，包含虚表指针)，并且各个父类不再拷贝公共基类中的数据成员。

2. 内存对齐：提高取数据的效率
   1. 数据对齐：任何K字节的基本对象的地址必须是K的倍数
   2. 结构体起始地址&大小对齐：结构体首址和大小要满足其中最宽的基本对象的对齐要求