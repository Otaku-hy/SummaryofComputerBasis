### Application Layer

1. DNS

   Motive: 使用名称比IP地址更好记忆

   Hierarchy:  ···.三级域名.二级域名.顶级域名

   ​	顶级域名：国家顶级名、通用顶级名、反向域

   域名解析过程：递归查询、迭代查询

   ​	递归：主机发送query给本地域名服务器，本地服务器query根域名，根域名query顶级域名，顶级域名query权限域名，找到对应ip后沿原路径依次发回response

   ​	迭代：主机发送query给本地域名服务器，本地服务器依次给根域名，顶级域名，权限域名发送query知道最终查询到要访问的ip地址

   ​	**为提高查询效率，在主机和各个服务器上都设置了高速缓存

   ​	   DNS报文使用UDP协议进行封装

2. 电子邮件

   构成：用户代理，邮件服务器，传输协议

   ​	用户代理：用户电子邮件系统的接口

   ​	邮件服务器：用于发送接收邮件，维护用户邮箱

   ​	协议：发送协议（SMTP）读取协议（IMAP，POP3）

   ​	**MIME：解决STMP无法传输非ASCII文本

   传输：用户代理->邮件服务器 STMP 邮件服务器->邮件服务器 STMP 用户代理从服务器读取邮件 IMAP/POP3

3. WWW

   使用URL指名任何的位置和名称，形式：<协议>://<主机>:<端口>/<路径>

   Cookie：HTTP无状态，使用cookie使web服务器能过记住用户信息cookieID="123456..."

   HTTP响应方式：

   ​	浏览器分析URL->DNS解析IP地址->浏览器与服务器建立TCP连接->浏览器发出读文件命令->服务器响应->释放TCP

   连接方式：非持久方式(每次数据访问需TCP)；持久方式(只用一次TCP，可流水，不流水)

   HTTP报文：请求行(方法+URL+版本)+消息头
   
   ​			状态行(版本+状态码+短语)+消息头+数据

4. 流媒体

5. 内容分发：齐普夫分布：最流行电影的流行度是流行度排名第7电影的7倍

   CDN，P2P

   1. **定义：** CDN 是一种通过在全球范围内分布服务器，将内容缓存到离用户更近的位置，从而提高内容访问速度和降低网络负载的技术。
   2. **工作原理：** 原始服务器上的内容被缓存到位于全球各地的 CDN 边缘服务器上。当用户请求内容时，CDN 系统会自动将内容从最近的边缘服务器提供给用户，减少了数据传输的延迟和拥塞。
   3. **定义：** P2P 是一种网络架构，其中参与者之间共享资源，而不是依赖中心服务器。每个节点在网络中既是客户端也是服务器，可以向其他节点提供资源并获取资源。
   4. **工作原理：** 参与者之间直接通信，共享文件或资源。当一个节点下载文件时，它可以从多个其他节点获取文件块，而不是从单一的中心服务器。



​	