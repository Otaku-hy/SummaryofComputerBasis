1. insights：不需要将整个程序加载到内存后在执行；且对程序分段，部分的执行处于内存中的部分有好处  -> 虚拟内存技术

2. 虚拟内存算法：请求分页；页置换；页帧分配

3. 请求调页管理方式：仅在访问时才加载page至内存

   **注：在页表项后增加一有效位，表示该page是否已加载至物理内存

   **内存访问process**：查询页表，当valid bit = 1时直接存取；当valid bit=0时，产生**缺页中断**，操作系统负责分配一空闲frame，并从磁盘读取，然后修改页表项/TLB，并重新执行中断的指令

   请求调页硬件支持：a. 页表(增加有效位) b. 外存(交换空间)-负责保存暂时被OS换出的页面

4. 页面置换：当无空闲帧时进行的页面换出算法

   **注：因为为防止所有的换出page都需要写入磁盘，在页表项中添加1修改为，只有修改的page才需要写回

   a. FIFO：先进入内存的页，先被换出 **注：Belady异常: 帧数量和缺页不成正比

   b. Optimal：根据后续内存访问串，换出最长时间不会使用的页面

   c. LRU：换出最长时间没有使用的页

   d. 近似LRU：

​			CLOCK：使用循环队列寻找第一个引用位=0的page

​			改进型CLOCK：除引用位外，使用修改位，优先换出引用位=0，修改位=0的page

​		e. 基于计数的置换：MFU(最经常使用)，LFU(最不常使用)

5. 帧分配：根据不同进程的需要给其分配不同数量的可用frame 

   分配算法：平均分配；比例分配

   分配策略：全局置换—一个进程可以从任意进程中获得帧

   ​				   局部置换—一个进程只能从自己分配的帧中选择

   **注：要注意NUMA系统的帧分配策略

6. 抖动：调页时间大于执行时间—由于分配的帧不足

7. 内存映射文件：使用虚拟内存的方式进行文件的读写和共享，更方便

8. ~~分配内核内存~~









