1. 编译过程：

​	预处理 -> 编译 -> 汇编 -> 链接

​	预处理阶段展开头文件和宏展开 g++ -E compile.cpp -o compile.i

​	编译阶段将源文件编译为汇编程序

​	汇编阶段将汇编程序翻译成可重定位目标文件

​	链接阶段将多个可重定位目标文件合成一个可执行目标文件



2. 链接器工作：符号解析&重定位 — 此过程的符号解析要解析全局符号表



3. 可重定位目标文件：

​	包括：.text代码节；.data已初始化的全局变量和静态变量节；.rodata只读数据节；bss未初始化的变量和静	态数据节（包括0初始的）；.symtab全局符号表节（包括引用，定义，静态变量）；rel.txt包含text中需要	重定位的函数的条目；rel.data包含text中需要重定位的变量的条目



4. 符号表&符号解析

   符号表包含a.本模块定义的全局符号 b.引用的全局符号(无对应的节头部表条目) c.静态符号

​	解析：将符号表中符号引用和符号定义相关联 **规则：有强选强，多强报错，多弱随机



5. 重定位：重定位节+重定位定义/引用，通过可重定位条目和符号表

   

6. 加载：当程序完成编译链接后生成一可执行的目标文件，包含只读代码段，读写段，运行时堆，用户栈等内容，由加载器将不同的段连续的分配内存

   

7. 静态库和动态库：

   静态库：将目标模块打包成一个文件，并在静态链接时复制程序引用的模块

   动态库：所有引用库的目标文件共享一个库，内存上只有一个副本被不同进程共享

​	

​	静态链接：在编译链接时生成完整的完全链接的可执行目标文件

​	动态链接：编译时生成位置无关代码，在加载时交由动态链接器完成动态库的加载和重定位
​			当然动态库加载也可以分为加载到固定地址和不固定地址，

​		**注：为完成库共享，加载到固定地址时，动态链接器可以直接重定位代码段的引用内容；但加载到不			固定地址时，不同的进程可能加载到了不同的逻辑地址，这时改代码段可能造成无法共享，所以使			用plt和got表在数据段进行重定位

​			对于动态链接，每个进程仍然由于自己对该库独立的读写数据段 

